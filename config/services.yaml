services:

  DMP\RestBundle\Listener\SerializeListener:
    tags:
      - { name: kernel.event_subscriber }

  dmp_rest.serializer.symfony:
    class: DMP\RestBundle\Serializer\SymfonySerializerAdapter
    public: false

  dmp_bundle.validation_exception_factory:
    class: DMP\RestBundle\Validation\ValidationExceptionFactory

  DMP\RestBundle\Listener\ExceptionListener:
    arguments:
      $exceptionDTOFactory: '@DMP\RestBundle\Controller\DTO\ExceptionDTOFactory'
      $appEnv: '%env(APP_ENV)%'
    tags:
      - { name: kernel.event_subscriber }

  DMP\RestBundle\Controller\DTO\ExceptionDTOFactory: ~
